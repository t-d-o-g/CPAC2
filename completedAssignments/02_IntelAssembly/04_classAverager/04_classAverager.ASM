TITLE CLASS_AVERAGER
.MODEL	SMALL
.STACK	100H
.DATA
PROMPT 	DB	'ENTER 10 SCORES$'
SCORES_	DB	'SCORES-GRADES$'
LOW_MSG	DB	'LOW SCORE: $'
HI_MSG	DB	'HIGH SCORE: $'
AVG_MSG	DB	'AVERAGE: $'
CRLF	DB	0DH, 0AH, '$'
TEN	DW	10
W	DW	10 DUP(0)
.CODE
MAIN 	PROC

	MOV	AX, @DATA
	MOV	DS, AX
	LEA	SI, W
	MOV	BX, 10

	MOV	AH, 9			;carriage return/line feed
	LEA	DX, CRLF
	INT	21H

	CALL	GET_SCORES		;user input

	MOV	AH, 9			;carriage return/line feed
	LEA	DX, CRLF
	INT	21H

	LEA	DX, LOW_MSG		;low score
	MOV	AH, 9
	INT	21H
	CALL	SELECT
	MOV	AL, [SI]
	CALL	OUTDEC
	MOV	AH, 9
	LEA	DX, CRLF
	INT	21H

	LEA	DX, HI_MSG		;high score
	MOV	AH, 9
	INT	21H
	XOR	AX, AX
	MOV	AL, [SI + 18]
	CALL	OUTDEC
	MOV	AH, 9
	LEA	DX, CRLF
	INT	21H

	LEA	DX, AVG_MSG		;average
	MOV	AH, 9
	INT	21H
	CALL	AVG
	CALL	OUTDEC
	MOV	AH, 9
	LEA	DX, CRLF
	INT	21H

	MOV	AH, 9			;carriage return/line feed
	LEA	DX, CRLF
	INT	21H

	XOR	AX, AX			;display scores				
	LEA	SI, W
	MOV	CX, 10
	LEA	DX, SCORES_
	MOV	AH, 9
	INT	21H
	MOV	AH, 9			
	LEA	DX, CRLF
	INT	21H			

TOP:	
	MOV	Ax, [SI]
	ADD	SI, 2	
	CALL	OUTDEC	
	CALL	GRADER
	MOV	AH, 9
	LEA	DX, CRLF
	INT	21H	
	LOOP	TOP	

	MOV	AH, 4CH
	INT	21H
MAIN	ENDP
INCLUDE PGM9_1.ASM
INCLUDE PGM9_3.ASM
INCLUDE	AVG.ASM
INCLUDE PGM10_2.ASM
INCLUDE GRADER.ASM
INCLUDE GET_SCORES.ASM
	END	MAIN
	